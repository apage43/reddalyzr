{"views":{"posthours":{"map":"function (doc, meta) {\n  if (meta.type == \"json\") {\n    if(doc.kind == \"link\") {\n      var dt = new Date(doc.created_utc * 1000);\n      var hrs = dt.getUTCHours();\n      var out = {max: 1, total: 1, freqs: [], score: []};\n      //Get day of week, but start week on Saturday, not Sunday, so that\n      //we can pull out the weekend easily.\n      var ssday = dt.getUTCDay() + 1;\n      if (ssday == 7) ssday = 0;\n      out.freqs[hrs] = 1;\n      out.score[hrs] = doc.score;\n      emit([doc.subreddit, ssday, dt], out);\n    }\n  }\n}","reduce":"function (key, values, re) {\n  var out = {};\n  out.freqs = [];\n  out.score = [];\n  for(i = 0; i < 24; i++) {\n    out.freqs[i] = 0;\n    out.score[i] = 0;\n  }\n  out.total = 0;\n  for(v in values) {\n    for(h in values[v].freqs) {\n      out.freqs[h] += values[v].freqs[h];\n      out.score[h] += values[v].score[h];\n    }\n    out.total += values[v].total;\n  }\n  return out;\n}"},"subrcount":{"map":"function (doc, meta) {\n  if(doc.kind && doc.kind == \"link\") {\n    emit([doc.subreddit], null);\n  }\n}","reduce":"_count"},"reddits_by_popularity":{"map":"function (doc, meta) {\n  if(meta.type == \"json\" && doc.kind == \"subreddit\") {\n    emit([doc.subscribers], doc.display_name);\n  }\n}"}},"viewInfos":[{"name":"posthours","viewLink":"#showView=default%2F_design%252Fdev_reddit%2F_view%2Fposthours","removeLink":"#removeView=default%2F_design%252Fdev_reddit%2F_view%2Fposthours","map":"function (doc, meta) {\n  if (meta.type == \"json\") {\n    if(doc.kind == \"link\") {\n      var dt = new Date(doc.created_utc * 1000);\n      var hrs = dt.getUTCHours();\n      var out = {total: 1, freqs: [], score: []};\n      //Get day of week, but start week on Saturday, not Sunday, so that\n      //we can pull out the weekend easily.\n      var ssday = dt.getUTCDay() + 1;\n      if (ssday == 7) ssday = 0;\n      out.freqs[hrs] = 1;\n      out.score[hrs] = doc.score;\n      emit([doc.subreddit, ssday, dt], out);\n    }\n  }\n}","reduce":"function (key, values, re) {\n  var out = {};\n  out.freqs = [];\n  out.score = [];\n  for(i = 0; i < 24; i++) {\n    out.freqs[i] = 0;\n    out.score[i] = 0;\n  }\n  out.total = 0;\n  for(v in values) {\n    for(h in values[v].freqs) {\n      out.freqs[h] += values[v].freqs[h];\n      out.score[h] += values[v].score[h];\n    }\n    out.total += values[v].total;\n  }\n  return out;\n}"},{"name":"reddits_by_popularity","viewLink":"#showView=default%2F_design%252Fdev_reddit%2F_view%2Freddits_by_popularity","removeLink":"#removeView=default%2F_design%252Fdev_reddit%2F_view%2Freddits_by_popularity","map":"function (doc, meta) {\n  if(meta.type == \"json\" && doc.kind == \"subreddit\") {\n    emit([doc.subscribers], doc.display_name);\n  }\n}"},{"name":"subrcount","viewLink":"#showView=default%2F_design%252Fdev_reddit%2F_view%2Fsubrcount","removeLink":"#removeView=default%2F_design%252Fdev_reddit%2F_view%2Fsubrcount","map":"function (doc, meta) {\n  if(doc.kind && doc.kind == \"link\") {\n    emit([doc.subreddit], null);\n  }\n}","reduce":"_count"}],"spatialInfos":[]}
