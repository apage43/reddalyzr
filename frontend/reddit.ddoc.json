{"views":{"posthours":{"map":"function (doc, meta) {\n  // Skip documents that aren't JSON\n  if (meta.type == \"json\") {\n    // Skip docs that aren't links\n    if(doc.kind == \"link\") {\n      var dt = new Date(doc.created_utc * 1000);\n\n      //Get day of week, but start week on Saturday, not Sunday, so that\n      //we can pull out the weekend easily.\n      var ssday = dt.getUTCDay() + 1;\n      if (ssday == 7) ssday = 0;\n\n      emit([doc.subreddit, ssday], {hour: dt.getUTCHours(), score: doc.score});\n    }\n  }\n}","reduce":"function (keys, values, rereduce) {\n  var out = {freqs: [], score: []};\n  //Prefill the srrays with zeroes\n  for(i = 0; i < 24; i++) {\n    out.freqs[i] = 0;\n    out.score[i] = 0;\n  }\n  for(v in values) {\n    if(!rereduce) { //Values are the output of map\n      out.freqs[values[v].hour] += 1;\n      out.score[values[v].hour] += values[v].score;\n    } else { //Values are the output of reduce\n      // Combine the arrays\n      for(h in values[v].freqs) {\n        out.freqs[h] += values[v].freqs[h];\n        out.score[h] += values[v].score[h];\n      }\n    }\n  }\n  return out;\n}"},"subrcount":{"map":"function (doc, meta) {\n  if(doc.kind && doc.kind == \"link\") {\n    emit([doc.subreddit], null);\n  }\n}","reduce":"_count"}},"viewInfos":[{"name":"posthours","viewLink":"#showView=reddalyzr%2F_design%252Fdev_reddit%2F_view%2Fposthours","removeLink":"#removeView=reddalyzr%2F_design%252Fdev_reddit%2F_view%2Fposthours","map":"function (doc, meta) {\n  // Skip documents that aren't JSON\n  if (meta.type == \"json\") {\n    // Skip docs that aren't links\n    if(doc.kind == \"link\") {\n      var dt = new Date(doc.created_utc * 1000);\n\n      //Get day of week, but start week on Saturday, not Sunday, so that\n      //we can pull out the weekend easily.\n      var ssday = dt.getUTCDay() + 1;\n      if (ssday == 7) ssday = 0;\n\n      emit([doc.subreddit, ssday], {hour: dt.getUTCHours(), score: doc.score});\n    }\n  }\n}","reduce":"function (keys, values, rereduce) {\n  var out = {freqs: [], score: []};\n  //Prefill the srrays with zeroes\n  for(i = 0; i < 24; i++) {\n    out.freqs[i] = 0;\n    out.score[i] = 0;\n  }\n  for(v in values) {\n    if(!rereduce) { //Values are the output of map\n      out.freqs[values[v].hour] += 1;\n      out.score[values[v].hour] += values[v].score;\n    } else { //Values are the output of reduce\n      // Combine the arrays\n      for(h in values[v].freqs) {\n        out.freqs[h] += values[v].freqs[h];\n        out.score[h] += values[v].score[h];\n      }\n    }\n  }\n  return out;\n}"},{"name":"subrcount","viewLink":"#showView=reddalyzr%2F_design%252Fdev_reddit%2F_view%2Fsubrcount","removeLink":"#removeView=reddalyzr%2F_design%252Fdev_reddit%2F_view%2Fsubrcount","map":"function (doc, meta) {\n  if(doc.kind && doc.kind == \"link\") {\n    emit([doc.subreddit], null);\n  }\n}","reduce":"_count"}],"spatialInfos":[]}
